<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CyberTimes</title>
    <style>
        :root {
            --primary: #00ff41; /* Vert Hacker */
            --bg: #0d0d0d;
            --dark: #1a1a1a;
            --danger: #ff3333;
        }
        body {
            font-family: 'Courier New', Courier, monospace;
            background-color: var(--bg);
            color: var(--primary);
            text-align: center;
            margin: 0;
            padding: 20px;
            display: flex;
            flex-direction: column;
            height: 90vh;
        }
        h1 { text-transform: uppercase; border-bottom: 2px solid var(--primary); padding-bottom: 10px; }
        .screen { display: none; flex: 1; flex-direction: column; justify-content: center; }
        .active { display: flex; }
        
        .card {
            background: var(--dark);
            border: 1px solid var(--primary);
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            box-shadow: 0 0 10px rgba(0, 255, 65, 0.2);
        }
        .question-text { font-size: 1.2em; margin-bottom: 20px; font-weight: bold; }
        .word-text { font-size: 2em; font-weight: bold; color: #fff; }
        .hint-text { font-size: 0.8em; color: #888; margin-top: 10px; font-style: italic;}

        button {
            background: var(--dark);
            color: var(--primary);
            border: 2px solid var(--primary);
            padding: 15px 30px;
            font-size: 1.2em;
            margin: 10px;
            cursor: pointer;
            border-radius: 5px;
            font-family: inherit;
            font-weight: bold;
        }
        button:active { background: var(--primary); color: var(--bg); }
        .btn-wrong { border-color: var(--danger); color: var(--danger); }
        .timer { font-size: 3em; margin: 10px 0; color: #fff; }
        .score-board { font-size: 1.5em; margin-bottom: 20px; }
    </style>
</head>
<body>

    <div id="screen-home" class="screen active">
        <h1>CyberTimes</h1>
        <p>Le jeu d'ambiance cybersécurité</p>
        <div class="card">
            <p>2 Équipes - 2 Manches</p>
            <p>50 cartes (25 sélectionnées au hasard)</p>
        </div>
        <button onclick="startGame()">Lancer la Partie</button>
    </div>

    <div id="screen-game" class="screen">
        <div class="score-board">
            Équipe <span id="current-team">1</span>
        </div>
        <div class="timer" id="timer">60</div>
        
        <div id="card-display" class="card">
            </div>

        <div id="controls">
            <button class="btn-wrong" onclick="passCard()">Passer</button>
            <button onclick="validateCard()">Trouvé !</button>
        </div>
        <div id="start-turn-btn">
            <button onclick="startTurn()">Démarrer le Tour</button>
        </div>
    </div>

    <div id="screen-end" class="screen">
        <h1>Fin de Partie</h1>
        <div class="card">
            <p>Score Équipe 1 : <span id="score-team1">0</span></p>
            <p>Score Équipe 2 : <span id="score-team2">0</span></p>
            <h2 id="winner-text"></h2>
        </div>
        <button onclick="location.reload()">Rejouer</button>
    </div>

<script>
    // --- DONNÉES (Exemple partiel, à compléter avec les 50 cartes) ---
  const allCardsData = [
    { "id": 1, "word": "Mot de passe", "q": "Il est suffisant d'utiliser un mot du dictionnaire s'il a 8 caractères.", "a": false, "exp": "Faux. Un bon mot de passe doit être long, et inclure un mélange de majuscules, minuscules, chiffres et symboles." },
    { "id": 1, "word": "Mot de passe", "q": "Il est suffisant d'utiliser un mot du dictionnaire s'il a 8 caractères.", "a": false, "exp": "Faux. Un bon mot de passe doit être long, et inclure un mélange de majuscules, minuscules, chiffres et symboles." },
    { "id": 2, "word": "Phishing", "q": "Le Phishing est une technique visant à voler vos informations via un e-mail qui semble légitime.", "a": true, "exp": "Vrai. C'est une escroquerie par hameçonnage." },
    { "id": 3, "word": "Antivirus", "q": "Un Antivirus garantit à 100% que votre ordinateur ne sera jamais infecté.", "a": false, "exp": "Faux. Il offre une protection essentielle, mais de nouvelles menaces apparaissent chaque jour." },
    { "id": 4, "word": "Pare-feu (Firewall)", "q": "Le Pare-feu est un mur physique que l'on doit installer autour de son ordinateur.", "a": false, "exp": "Faux. C'est un logiciel ou un dispositif qui agit comme une barrière entre votre réseau et internet." },
    { "id": 5, "word": "Hameçonnage", "q": "Un courriel d'hameçonnage contient souvent des fautes d'orthographe ou une demande urgente d'informations personnelles.", "a": true, "exp": "Vrai. Les pirates misent sur la distraction pour que vous ne remarquiez pas ces signes." },
    { "id": 6, "word": "VPN", "q": "Un VPN n'a aucun impact sur la sécurité et sert uniquement à débloquer du contenu étranger.", "a": false, "exp": "Faux. Sa fonction première est de chiffrer votre connexion pour la rendre privée et sécurisée." },
    { "id": 7, "word": "Mise à jour", "q": "Il est conseillé de reporter indéfiniment les mises à jour logicielles pour ne pas ralentir l'ordinateur.", "a": false, "exp": "Faux. Les mises à jour corrigent souvent des failles de sécurité importantes." },
    { "id": 8, "word": "Chiffrement (Cryptage)", "q": "Le Chiffrement est l'action de transformer des données lisibles en un code illisible.", "a": true, "exp": "Vrai. Cela garantit la confidentialité, seule la clé permet de lire les données." },
    { "id": 9, "word": "Logiciel Malveillant (Malware)", "q": "Un Logiciel Malveillant ne peut se propager que si vous téléchargez volontairement un fichier.", "a": false, "exp": "Faux. Il peut aussi se propager par des liens, des e-mails, ou des failles dans des logiciels non mis à jour." },
    { "id": 10, "word": "2FA", "q": "L'authentification à deux facteurs ajoute une étape de vérification (comme un code SMS) après le mot de passe.", "a": true, "exp": "Vrai. C'est une couche de sécurité supplémentaire très efficace." },
    { "id": 11, "word": "Ransomware", "q": "Un Ransomware bloque l'accès à vos fichiers et exige une rançon pour les débloquer.", "a": true, "exp": "Vrai. C'est une attaque qui prend en otage vos données." },
    { "id": 12, "word": "Sauvegarde (Backup)", "q": "Il est inutile de faire des sauvegardes de ses données, car les disques durs ne tombent jamais en panne.", "a": false, "exp": "Faux. Les sauvegardes sont vitales en cas de panne, vol ou attaque." },
    { "id": 13, "word": "Wi-Fi Public", "q": "Les réseaux Wi-Fi publics sont aussi sécurisés que le Wi-Fi de votre domicile.", "a": false, "exp": "Faux. Ils sont souvent peu sécurisés et il est facile pour un pirate d'espionner votre activité." },
    { "id": 14, "word": "URL", "q": "Pour savoir si un site est sécurisé, il suffit de vérifier si son adresse commence par http://.", "a": false, "exp": "Faux. Il faut qu'elle commence par HTTPS:// (le 's' signifiant 'sécurisé') et qu'il y ait un cadenas." },
    { "id": 15, "word": "Ingénierie Sociale", "q": "L'Ingénierie Sociale est l'art de pirater un ordinateur en utilisant uniquement des commandes complexes dans le code.", "a": false, "exp": "Faux. C'est l'art de manipuler psychologiquement une personne pour qu'elle révèle des informations." },
    { "id": 16, "word": "Cheval de Troie (Trojan)", "q": "Un Cheval de Troie est un programme malveillant qui se fait passer pour une application légitime.", "a": true, "exp": "Vrai. Il est ainsi téléchargé par l'utilisateur sans méfiance." },
    { "id": 17, "word": "Mot de passe Manager", "q": "Un gestionnaire de mots de passe stocke tous vos mots de passe de manière sécurisée.", "a": true, "exp": "Vrai. C'est l'un des meilleurs moyens d'utiliser un mot de passe unique et fort pour chaque service." },
    { "id": 18, "word": "Adresse IP", "q": "L'Adresse IP est l'identifiant unique de votre appareil sur un réseau.", "a": true, "exp": "Vrai. Elle est utilisée pour acheminer les données vers le bon appareil, comme une adresse postale numérique." },
    { "id": 19, "word": "Spoofing", "q": "Le Spoofing est une technique qui consiste à se faire passer pour quelqu'un d'autre (usurper une identité ou une adresse).", "a": true, "exp": "Vrai. L'objectif est de gagner la confiance de la victime." },
    { "id": 20, "word": "Cryptomonnaie", "q": "Les Cryptomonnaies (comme le Bitcoin) sont illégales car elles sont toujours utilisées par les pirates informatiques.", "a": false, "exp": "Faux. Elles sont légales pour des transactions normales, bien qu'utilisées par des pirates." },
    { "id": 21, "word": "HTTPS", "q": "Le protocole HTTPS assure que la connexion entre votre navigateur et le site web est chiffrée.", "a": true, "exp": "Vrai. Le 'S' pour 'Secure' est essentiel pour la sécurité en ligne." },
    { "id": 22, "word": "Déchiffrement", "q": "Le Déchiffrement est l'action de rendre un code illisible (chiffré) à nouveau lisible (en clair).", "a": true, "exp": "Vrai. C'est l'inverse du Chiffrement, et nécessite une clé." },
    { "id": 23, "word": "Spam", "q": "Un Spam est un e-mail non sollicité, et il ne peut jamais contenir de menaces de sécurité.", "a": false, "exp": "Faux. Le Spam peut aussi transporter des tentatives de Phishing ou des logiciels malveillants." },
    { "id": 24, "word": "Téléchargement illégal", "q": "Le téléchargement illégal ne pose qu'un problème de droit d'auteur, et n'est pas un risque de cybersécurité.", "a": false, "exp": "Faux. Ces fichiers peuvent être facilement contaminés par des virus ou des logiciels espions." },
    { "id": 25, "word": "Biométrie", "q": "La Biométrie (empreinte digitale, reconnaissance faciale) est une forme d'authentification encore moins sécurisée qu'un simple mot de passe.", "a": false, "exp": "Faux. Elle est considérée comme plus sécurisée car difficile à voler ou à reproduire." },
    { "id": 26, "word": "Clé de sécurité", "q": "Une clé de sécurité (USB spéciale) est la méthode la plus sûre pour l'authentification à deux facteurs.", "a": true, "exp": "Vrai. Elle est extrêmement difficile à intercepter, contrairement à un SMS." },
    { "id": 27, "word": "Attaque par Force Brute", "q": "Une attaque par Force Brute consiste à essayer des milliers de mots de passe différents très rapidement.", "a": true, "exp": "Vrai. C'est pourquoi un mot de passe très long et complexe est essentiel pour ralentir ces attaques." },
    { "id": 28, "word": "Adresse MAC", "q": "L'Adresse MAC est un identifiant unique attribué au logiciel de votre ordinateur.", "a": false, "exp": "Faux. L'Adresse MAC est l'identifiant unique attribué directement à la carte réseau (matériel) de votre appareil." },
    { "id": 29, "word": "Logiciel Espion (Spyware)", "q": "Un Logiciel Espion est conçu pour collecter des informations sur vous à votre insu (mots de passe, historique).", "a": true, "exp": "Vrai. Il envoie ensuite ces données à une tierce partie malveillante." },
    { "id": 30, "word": "Cryptage des fichiers", "q": "Crypter les fichiers sur son ordinateur rend les données illisibles même si l'ordinateur est volé.", "a": true, "exp": "Vrai. Le vol d'ordinateur ne permet pas d'accéder aux données sans la clé de déchiffrement." },
    { "id": 31, "word": "Mot de passe par défaut", "q": "Il est très dangereux de laisser le mot de passe par défaut sur un nouvel appareil (comme un routeur Wi-Fi).", "a": true, "exp": "Vrai. Les pirates connaissent les mots de passe par défaut de la plupart des fabricants." },
    { "id": 32, "word": "Certificat SSL/TLS", "q": "Le Certificat SSL/TLS est ce qui permet l'affichage du petit cadenas dans la barre d'adresse du navigateur.", "a": true, "exp": "Vrai. Il garantit que le site est authentique et que la communication est chiffrée." },
    { "id": 33, "word": "Injection SQL", "q": "L'Injection SQL est une attaque qui cible uniquement les serveurs de jeux vidéo.", "a": false, "exp": "Faux. C'est une attaque qui cible les bases de données des sites web pour voler, modifier ou détruire des informations." },
    { "id": 34, "word": "IoT (Objets Connectés)", "q": "Les objets connectés (montres, ampoules) n'ont pas besoin de protection car ils ne contiennent pas d'informations sensibles.", "a": false, "exp": "Faux. Ils peuvent servir de porte d'entrée à un pirate pour accéder à votre réseau domestique." },
    { "id": 35, "word": "Se déconnecter (Logout)", "q": "Il est plus sûr de fermer simplement l'onglet de votre banque en ligne que de cliquer sur 'Déconnexion'.", "a": false, "exp": "Faux. Il faut toujours se déconnecter officiellement pour fermer la session serveur." },
    { "id": 36, "word": "Cookie", "q": "Les cookies sont de petits fichiers stockés pour mémoriser vos préférences et vos habitudes de navigation.", "a": true, "exp": "Vrai. Les 'cookies tiers' sont cependant souvent utilisés pour vous suivre à des fins publicitaires." },
    { "id": 37, "word": "Zero-day", "q": "Une faille 'Zero-day' est une vulnérabilité que le développeur ne connaît pas encore et n'a pas pu corriger.", "a": true, "exp": "Vrai. Elle est particulièrement dangereuse car aucune mise à jour de sécurité n'est disponible immédiatement." },
    { "id": 38, "word": "Piratage (Hacking)", "q": "Le mot 'Piratage' (Hacking) désigne toujours une activité illégale et malveillante.", "a": false, "exp": "Faux. Il existe le 'Hacking Éthique' pour trouver des failles et sécuriser les systèmes." },
    { "id": 39, "word": "Porte dérobée (Backdoor)", "q": "Une Porte dérobée est un moyen secret pour un pirate de contourner les mesures de sécurité et de revenir sur un système.", "a": true, "exp": "Vrai. Elle est souvent installée après une première intrusion réussie." },
    { "id": 40, "word": "Politique de confidentialité", "q": "La Politique de confidentialité vous indique quelles données sont collectées, utilisées et stockées par un site.", "a": true, "exp": "Vrai. Il est important de la consulter pour savoir ce qu'un service fait de vos informations." },
    { "id": 41, "word": "Usurpation d'identité", "q": "L'Usurpation d'identité se produit quand quelqu'un utilise vos informations personnelles pour se faire passer pour vous.", "a": true, "exp": "Vrai. C'est une conséquence fréquente et grave du vol de données." },
    { "id": 42, "word": "Wi-Fi", "q": "Changer le nom de votre réseau Wi-Fi (SSID) le rend automatiquement plus sécurisé.", "a": false, "exp": "Faux. Seul un mot de passe fort et le chiffrement (WPA2/WPA3) affectent la sécurité." },
    { "id": 43, "word": "Pharming", "q": "Le Pharming est une technique qui vous redirige vers un faux site web, même si vous avez tapé la bonne adresse.", "a": true, "exp": "Vrai. C'est une attaque souvent plus difficile à détecter que le Phishing." },
    { "id": 44, "word": "Vol de données", "q": "Le Vol de données n'est préoccupant que s'il s'agit d'informations bancaires.", "a": false, "exp": "Faux. Le vol de n'importe quelle donnée personnelle peut être exploité pour de l'Ingénierie Sociale ou de l'Usurpation d'identité." },
    { "id": 45, "word": "Logiciel libre (Open Source)", "q": "Un logiciel 'Open Source' est plus susceptible d'avoir des failles de sécurité, car son code est public.", "a": false, "exp": "Faux. Le code public permet à plus d'experts de l'examiner et de corriger rapidement les vulnérabilités." },
    { "id": 46, "word": "Clé USB inconnue", "q": "Si vous trouvez une clé USB, vous devriez la brancher immédiatement à votre ordinateur pour identifier son propriétaire.", "a": false, "exp": "Faux. C'est une technique courante de piratage. La clé pourrait contenir un logiciel malveillant." },
    { "id": 47, "word": "Adresse mail jetable", "q": "Utiliser une adresse e-mail jetable permet de limiter le Spam et les risques de Phishing sur votre adresse principale.", "a": true, "exp": "Vrai. Cela aide à préserver votre adresse e-mail principale des listes de diffusion non désirées." },
    { "id": 48, "word": "Journalisation (Logging)", "q": "La Journalisation est l'enregistrement de l'activité d'un système, ce qui est crucial pour détecter une intrusion après coup.", "a": true, "exp": "Vrai. Ces traces (logs) permettent aux experts de sécurité de comprendre ce qui s'est passé." },
    { "id": 49, "word": "Mot de passe unique", "q": "Il est acceptable d'utiliser le même mot de passe pour deux comptes peu importants.", "a": false, "exp": "Faux. Si un compte est piraté, le pirate essaiera immédiatement le même mot de passe sur tous vos autres comptes." },
    { "id": 50, "word": "Mode Incognito/Privé", "q": "Le Mode Incognito rend vos activités invisibles à votre fournisseur d'accès internet et aux sites web que vous visitez.", "a": false, "exp": "Faux. Il empêche seulement votre navigateur d'enregistrer localement votre historique et vos cookies." }
];

    // --- VARIABLES DE JEU ---
    let gameDeck = [];
    let round = 1; // 1 ou 2
    let currentTeam = 1; // 1 ou 2
    let scores = { 1: 0, 2: 0 };
    let timerInterval;
    let timeLeft = 60;
    let currentCardIndex = 0;
    let deckInPlay = []; // Cartes restantes pour la manche en cours

    // --- FONCTIONS ---

    function shuffle(array) {
        return array.sort(() => Math.random() - 0.5);
    }

    function startGame() {
        // Sélectionner 25 cartes au hasard parmi les 50 (ici simuler avec tout)
        // Pour le test on prend tout, mais en prod: gameDeck = shuffle([...allCardsData]).slice(0, 25);
        gameDeck = shuffle([...allCardsData]).slice(0, 25); 
        
        deckInPlay = [...gameDeck]; // Copie pour la manche 1
        round = 1;
        currentTeam = 1;
        scores = { 1: 0, 2: 0 };
        
        showScreen('screen-game');
        prepareTurn();
    }

    function showScreen(id) {
        document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
        document.getElementById(id).classList.add('active');
    }

    function prepareTurn() {
        clearInterval(timerInterval);
        timeLeft = 60;
        document.getElementById('timer').innerText = timeLeft;
        document.getElementById('current-team').innerText = currentTeam;
        
        // Cacher les contrôles de jeu, montrer le bouton "Démarrer"
        document.getElementById('controls').style.display = 'none';
        document.getElementById('card-display').innerHTML = `<h3>Manche ${round}</h3><p>C'est à l'équipe ${currentTeam} de jouer.</p><p>Cartes restantes : ${deckInPlay.length}</p>`;
        document.getElementById('start-turn-btn').style.display = 'block';

        if (deckInPlay.length === 0) {
            endRound();
        }
    }

    function startTurn() {
        document.getElementById('start-turn-btn').style.display = 'none';
        document.getElementById('controls').style.display = 'block';
        nextCard();
        
        timerInterval = setInterval(() => {
            timeLeft--;
            document.getElementById('timer').innerText = timeLeft;
            if (timeLeft <= 0) {
                clearInterval(timerInterval);
                switchTeam();
            }
        }, 1000);
    }

    function nextCard() {
        if (deckInPlay.length === 0) {
            endRound();
            return;
        }
        // Prendre la première carte du paquet en jeu
        const card = deckInPlay[0];
        const display = document.getElementById('card-display');

        if (round === 1) {
            // MANCHE 1 : Question Vrai/Faux
            display.innerHTML = `
                <p class="question-text">Vrai ou Faux ?</p>
                <p>${card.q}</p>
                <p style="font-size:0.8em; color:#555;">(Réponse: ${card.a ? 'VRAI' : 'FAUX'})</p>
            `;
        } else {
            // MANCHE 2 : Mot à deviner
            display.innerHTML = `
                <p class="word-text">${card.word}</p>
                <p class="hint-text">Si trop dur : ${card.q} (${card.a ? 'Vrai' : 'Faux'})</p>
            `;
        }
    }

    function validateCard() {
        // Point pour l'équipe
        scores[currentTeam]++;
        // Retirer la carte trouvée du paquet en jeu
        deckInPlay.shift();
        
        if (deckInPlay.length === 0) {
            clearInterval(timerInterval);
            endRound();
        } else {
            nextCard();
        }
    }

    function passCard() {
        // Passer : on remet la carte à la fin du paquet
        const card = deckInPlay.shift();
        deckInPlay.push(card);
        nextCard();
    }

    function switchTeam() {
        currentTeam = currentTeam === 1 ? 2 : 1;
        alert("Temps écoulé ! Passez le téléphone à l'autre équipe.");
        prepareTurn();
    }

    function endRound() {
        if (round === 1) {
            alert("Fin de la Manche 1 ! Toutes les cartes ont été trouvées.");
            round = 2;
            // On remet toutes les cartes (les mêmes 25) pour la manche 2
            deckInPlay = shuffle([...gameDeck]);
            currentTeam = (scores[1] < scores[2]) ? 1 : 2; // L'équipe qui perd commence (règle maison) ou aléatoire
            prepareTurn();
        } else {
            endGame();
        }
    }

    function endGame() {
        showScreen('screen-end');
        document.getElementById('score-team1').innerText = scores[1];
        document.getElementById('score-team2').innerText = scores[2];
        
        let winner = "";
        if (scores[1] > scores[2]) winner = "L'équipe 1 gagne !";
        else if (scores[2] > scores[1]) winner = "L'équipe 2 gagne !";
        else winner = "Égalité parfaite !";
        
        document.getElementById('winner-text').innerText = winner;
    }
</script>
</body>
</html>